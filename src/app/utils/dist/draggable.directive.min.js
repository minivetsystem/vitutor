"use strict";var __decorate=this&&this.__decorate||function(e,t,o,n){var r,l=arguments.length,a=l<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;0<=s;s--)(r=e[s])&&(a=(l<3?r(a):3<l?r(t,o,a):r(t,o))||a);return 3<l&&a&&Object.defineProperty(t,o,a),a};exports.__esModule=!0;var core_1=require("@angular/core"),Draggable=function(){function e(e){this.element=e,this.topStart=0,this.leftStart=0,this._allowDrag=!0}return e.prototype.ngOnInit=function(){this._allowDrag&&(this.element.nativeElement.style.position="relative",this.element.nativeElement.className+=" cursor-draggable")},e.prototype.onMouseDown=function(e){2!==e.button&&(this.md=!0,this.topStart=e.clientY-this.element.nativeElement.style.top.replace("px",""),this.leftStart=e.clientX-this.element.nativeElement.style.left.replace("px",""))},e.prototype.onMouseUp=function(e){this.md=!1},e.prototype.onMouseMove=function(e){this.md&&this._allowDrag&&(this.element.nativeElement.style.top=e.clientY-this.topStart+"px",this.element.nativeElement.style.left=e.clientX-this.leftStart+"px")},e.prototype.onTouchStart=function(e){this.md=!0,this.topStart=e.changedTouches[0].clientY-this.element.nativeElement.style.top.replace("px",""),this.leftStart=e.changedTouches[0].clientX-this.element.nativeElement.style.left.replace("px",""),e.stopPropagation()},e.prototype.onTouchEnd=function(){this.md=!1},e.prototype.onTouchMove=function(e){this.md&&this._allowDrag&&(this.element.nativeElement.style.top=e.changedTouches[0].clientY-this.topStart+"px",this.element.nativeElement.style.left=e.changedTouches[0].clientX-this.leftStart+"px"),e.stopPropagation()},Object.defineProperty(e.prototype,"allowDrag",{set:function(e){this._allowDrag=e,this._allowDrag?this.element.nativeElement.className+=" cursor-draggable":this.element.nativeElement.className=this.element.nativeElement.className.replace(" cursor-draggable","")},enumerable:!0,configurable:!0}),__decorate([core_1.HostListener("mousedown",["$event"])],e.prototype,"onMouseDown"),__decorate([core_1.HostListener("document:mouseup")],e.prototype,"onMouseUp"),__decorate([core_1.HostListener("document:mousemove",["$event"])],e.prototype,"onMouseMove"),__decorate([core_1.HostListener("touchstart",["$event"])],e.prototype,"onTouchStart"),__decorate([core_1.HostListener("document:touchend")],e.prototype,"onTouchEnd"),__decorate([core_1.HostListener("document:touchmove",["$event"])],e.prototype,"onTouchMove"),__decorate([core_1.Input("element-draggable")],e.prototype,"allowDrag"),e=__decorate([core_1.Directive({selector:"[element-draggable]"})],e)}();exports.Draggable=Draggable;
//# sourceMappingURL=draggable.directive.min.js.map
