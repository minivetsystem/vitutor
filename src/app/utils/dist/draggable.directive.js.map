{"version":3,"sources":["draggable.directive.ts"],"names":[],"mappings":"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","file":"draggable.directive.js","sourcesContent":["import {\r\n  HostListener,\r\n  ElementRef,\r\n  OnInit,\r\n  Input,\r\n  Directive,\r\n} from \"@angular/core\";\r\n\r\n@Directive({\r\n  selector: \"[element-draggable]\",\r\n})\r\nexport class Draggable implements OnInit {\r\n  topStart: number = 0;\r\n  leftStart: number = 0;\r\n  _allowDrag: boolean = true;\r\n  md: boolean;\r\n\r\n  constructor(public element: ElementRef) {}\r\n\r\n  ngOnInit() {\r\n    // css changes\r\n    if (this._allowDrag) {\r\n      this.element.nativeElement.style.position = \"relative\";\r\n      this.element.nativeElement.className += \" cursor-draggable\";\r\n    }\r\n  }\r\n\r\n  @HostListener(\"mousedown\", [\"$event\"])\r\n  onMouseDown(event: MouseEvent) {\r\n    if (event.button === 2) return; // prevents right click drag, remove his if you don't want it\r\n    this.md = true;\r\n    this.topStart =\r\n      event.clientY - this.element.nativeElement.style.top.replace(\"px\", \"\");\r\n    this.leftStart =\r\n      event.clientX - this.element.nativeElement.style.left.replace(\"px\", \"\");\r\n  }\r\n\r\n  @HostListener(\"document:mouseup\")\r\n  onMouseUp(event: MouseEvent) {\r\n    this.md = false;\r\n  }\r\n\r\n  @HostListener(\"document:mousemove\", [\"$event\"])\r\n  onMouseMove(event: MouseEvent) {\r\n    if (this.md && this._allowDrag) {\r\n      this.element.nativeElement.style.top =\r\n        event.clientY - this.topStart + \"px\";\r\n      this.element.nativeElement.style.left =\r\n        event.clientX - this.leftStart + \"px\";\r\n    }\r\n  }\r\n\r\n  @HostListener(\"touchstart\", [\"$event\"])\r\n  onTouchStart(event: any) {\r\n    this.md = true;\r\n    this.topStart =\r\n      event.changedTouches[0].clientY -\r\n      this.element.nativeElement.style.top.replace(\"px\", \"\");\r\n    this.leftStart =\r\n      event.changedTouches[0].clientX -\r\n      this.element.nativeElement.style.left.replace(\"px\", \"\");\r\n    event.stopPropagation();\r\n  }\r\n\r\n  @HostListener(\"document:touchend\")\r\n  onTouchEnd() {\r\n    this.md = false;\r\n  }\r\n\r\n  @HostListener(\"document:touchmove\", [\"$event\"])\r\n  onTouchMove(event: any) {\r\n    if (this.md && this._allowDrag) {\r\n      this.element.nativeElement.style.top =\r\n        event.changedTouches[0].clientY - this.topStart + \"px\";\r\n      this.element.nativeElement.style.left =\r\n        event.changedTouches[0].clientX - this.leftStart + \"px\";\r\n    }\r\n    event.stopPropagation();\r\n  }\r\n\r\n  @Input(\"element-draggable\")\r\n  set allowDrag(value: boolean) {\r\n    this._allowDrag = value;\r\n    if (this._allowDrag)\r\n      this.element.nativeElement.className += \" cursor-draggable\";\r\n    else\r\n      this.element.nativeElement.className = this.element.nativeElement.className.replace(\r\n        \" cursor-draggable\",\r\n        \"\"\r\n      );\r\n  }\r\n}\r\n"]}