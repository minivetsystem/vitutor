<div class="main-panel" [ngClass]="{'side-menu': menuToggle == 1}">
    <div class="container">
        <div class="panel-header bg-primary-gradient">
            <div class="page-inner py-5">
                <div class="d-flex align-items-left align-items-md-center flex-column flex-md-row">
                    <div>
                        <h2 class="pb-2 fw-bold panel-header-heading">Manage Jobs</h2>
                    </div>
                </div>
            </div>
        </div>
        <div class="page-inner mt--5 manage_jobs">
            <div class="row mt--2">
                <div class="col-md-12">
                    <div class="card">
                        <div class="card-header d-flex">
                            <ul class="tabs tabs_ul">
                                <!-- <li class="tab-link" data-tab="tab-7" [ngClass]="{'current' : currentTab == 'Upcoming'}" (click)="tabChange('Upcoming')">Upcoming</li> -->
                                
                                <!-- <li class="tab-link" data-tab="tab-2" [ngClass]="{'current' : currentTab == 'Accepted'}" (click)="tabChange('Accepted')">Accepted</li> -->
                                
                                <li class="tab-link " data-tab="tab-3" [ngClass]="{'current' : currentTab == 'NewOffer'}" (click)="tabChange('NewOffer')">Offers</li>
                                <li class="tab-link " data-tab="tab-8" [ngClass]="{'current' : currentTab == 'Completed'}" (click)="tabChange('Completed')">Completed</li>
                                <li class="tab-link" data-tab="tab-4" [ngClass]="{'current' : currentTab == 'NewInvite'}" (click)="tabChange('NewInvite')">New Invite</li>
                                <li class="tab-link " data-tab="tab-1" [ngClass]="{'current' : currentTab == 'Applied'}" (click)="tabChange('Applied')">Applied</li>
                                <li class="tab-link" data-tab="tab-5" [ngClass]="{'current' : currentTab == 'Closed'}" (click)="tabChange('Closed')">Closed</li>
                                <!-- <li class="tab-link" data-tab="tab-6" [ngClass]="{'current' : currentTab == 'All'}" (click)="tabChange('All')">All</li> -->
                            </ul>

                            <div class="header_right">
                                <div class="date_box">
                                    <label> Date Filter</label>  
                                    <div class="input-group" >
                                        <input type="text" class="form-control success" name="birth" required="" aria-invalid="false" autocomplete="off" (keydown)="noType($event)" ngxDaterangepickerMd [(ngModel)]="selected" placeholder="Choose date" 
                                        (ngModelChange)="change($event)">
                                        <div class="input-group-append d-flex" [ngClass]="{'clear-btn': showClearButton}">
                                            <span class="input-group-text">
                                                <i class="fa fa-calendar-o" *ngIf="!showClearButton"></i>
                                                <img src="assets/img/close_circle.svg" style="width:20px;cursor:pointer;" (click)="clearBtn()" *ngIf="showClearButton">
                                            </span>
                                        </div>
                                    </div>
                                <!-- <div class="mr-3 ml-3">
                                <button   *ngIf="showClearButton" (click)="clearBtn()"  class="btn btn-border"> Clear</button>
                                </div> -->
                            </div>
                                
                            </div>
                        </div>
                        <div class="card-body">
                            <div id="tab-1" class="tab-content" [ngClass]="{'current' : currentTab == 'Applied'}">
                                <div class="manage_table">
                                    <table class="table">
                                        <tbody>
                                            <ng-container *ngIf="jobsList.length > 0">
                                            <tr *ngFor="let job of jobsList">
                                                <td>
                                                    <span>Job Title</span>
                                                    <a [routerLink]="['/jobDetail/job/'+job.job_slug]">{{job.job_title}}</a>
                                                    <!-- <div class="student_name"><img src="assets/img/student.svg">{{job.first_name}} {{job.last_name}}</div> -->
                                                </td>
                                                <td>
                                                    <span>Student Name</span>
                                                    <strong>{{job.first_name}} {{job.last_name}}</strong>
                                                </td>
                                                <td>
                                                    <span>Original Price</span>
                                                    <strong>{{job.price}} {{job.price_type}}</strong>
                                                </td>
                                                <td>
                                                    <span>Offer Price</span>
                                                    <strong *ngIf="job.offer_price">{{job.offer_price}} {{job.price_type}}</strong>
                                                </td>
                                                <td>
                                                    <span>Applied On</span>
                                                    <strong>{{job.applied_on|| ''}}</strong>
                                                </td>

                                                <td class="vertical_align_center">
                                                    <button class="btn btn-success" (click)="appliedJob(job)" *ngIf="job.status=='Applied'">Applied</button>
                                                    <button class="btn btn-red" disabled *ngIf="job.status=='Cancelled'" >Cancelled</button>
                                                </td>

                                                <td class="vertical_align_center" *ngIf="job.status=='Applied' && !job.receive_offer">
                                                    <a data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img src="assets/img/three_dots.svg"></a>
                                                    <div class="dropdown-menu">
                                                        <!-- <a class="dropdown-item" href="javascript:void(0)" [swal]="RevokeAppliedJob">Revoke Applied Job</a> -->
                                                        <a class="dropdown-item" href="javascript:void(0)" (click)="withdrawOffer(job)">Withdraw Applied Job</a>
                                                    </div>
                                                </td>
                                               

                                            </tr>
                                          </ng-container>
                                       
                                            <tr *ngIf="jobsErr == 1">
                                                <div class="no_jobs">No Available Jobs</div> 
                                            </tr>
                                  

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div id="tab-2" class="tab-content " [ngClass]="{'current' : currentTab == 'Accepted'}">
                                <div class="manage_table">
                                    <table class="table">
                                        <tbody>
                                            <ng-container *ngIf="jobsList.length > 0">
                                            <tr *ngFor="let job of jobsList">
                                                <td>
                                                    <span>Job Title</span>
                                                    <!-- <a [routerLink]="['/searchJob/job-details/'+job.job_slug]">{{job.job_title}}</a> -->
                                                    <a [routerLink]="['/jobDetail/job/'+job.job_slug]" *ngIf="job.job_title.length>18" data-toggle="tooltip" data-placement="top" [title]="job.job_title">{{job.job_title|slice:0:15}}...</a>
                                                    <a [routerLink]="['/jobDetail/job/'+job.job_slug]" *ngIf="job.job_title.length <= 18" data-toggle="tooltip" data-placement="top" [title]="job.job_title">{{job.job_title}}</a>
                                                    <!-- <div class="student_name"><img src="assets/img/student.svg">{{job.first_name}}</div> -->
                                                </td>
                                                <td>
                                                    <span>Student Name</span>
                                                    <strong>{{job.first_name}} {{job.last_name}}</strong>
                                                </td>
                                                <td>
                                                    <span>Original Price</span>
                                                    <strong>{{job.price}} {{job.price_type}}</strong>
                                                </td>
                                                <td>
                                                    <span>Accepted Price</span>
                                                    <strong *ngIf="job.accepted_price">{{job.accepted_price}} {{job.price_type}}</strong>
                                                </td>
                                                <td>
                                                    <span>Offer date</span>
                                                    <strong>{{job.offer_sent_on}}</strong>
                                                </td>

                                                <td class="vertical_align_center">
                                                    <button class="btn btn-success" disabled>Accepted <img src="assets/img/success.svg"></button>
                                                </td>

                                                <!-- <td class="vertical_align_center">
                                                    <a href="#"><img src="assets/img/three_dots.svg"></a>
                                                </td> -->

                                            </tr>
                                        </ng-container>
                                      
                                            <tr *ngIf="jobsErr == 1">
                                                <div class="no_jobs">No Available Jobs</div> 
                                            </tr>
                                   
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div id="tab-3" class="tab-content" [ngClass]="{'current' : currentTab == 'NewOffer'}">
                                <div class="manage_table">
                                    <table class="table">
                                        <tbody>
                                            <ng-container *ngIf="jobsList.length > 0;">
                                            <tr *ngFor="let job of jobsList">
                                                <td>
                                                    <span>Job Title</span>
                                                    <!-- <a [routerLink]="['/searchJob/job-details/'+job.job_slug]">{{job.job_title}}</a> -->
                                                    <a [routerLink]="['/tutor/offerDetails/'+job.id]" *ngIf="job.job_title.length>18" data-toggle="tooltip" data-placement="top" [title]="job.job_title">{{job.job_title|slice:0:15}}...</a>
                                                    <a [routerLink]="['/tutor/offerDetails/'+job.id]" *ngIf="job.job_title.length <= 18" data-toggle="tooltip" data-placement="top" [title]="job.job_title">{{job.job_title}}</a>
                                                    <!-- <div class="student_name"><img src="../../../assets/img/student.svg"> Miller</div> -->
                                                </td>
                                                <td>
                                                    <span>Student Name</span>
                                                    <strong>{{job.first_name}} {{job.last_name}}</strong>
                                                </td>
                                                <td>
                                                    <span>Original Price</span>
                                                    <strong>{{job.price}} {{job.price_type}}</strong>
                                                </td>
                                                <td>
                                                    <span>Offer Price</span>
                                                    <strong *ngIf="job.accepted_price">{{job.accepted_price}} {{job.price_type}}</strong>
                                                </td>
                                                <!-- <td>
                                                    <span>Job Type</span>
                                                    <strong *ngIf="job.job_type">{{job.job_type}}</strong>
                                            </td> -->
                                                <td>
                                                    <span>Offer Sent On</span>
                                                    <strong>{{job.offer_sent_on}}</strong>
                                                </td>

                                                <td class="vertical_align_center">
                                                    <button class="btn btn-orange" *ngIf="job.status == 'Pending'" disabled>Offer {{job.status}}</button>
                                                    <button class="btn btn-red" *ngIf="job.status == 'Declined'" disabled>Offer {{job.status}}</button>
                                                    <button class="btn btn-success" *ngIf="job.status == 'Accepted'" [routerLink]="['/tutor/message-board']">Offer {{job.status}}</button>
                                                    <button class="btn btn-red smallBtn" *ngIf="job.status == 'Terminated'" disabled>Offer {{job.status}}</button>
                                                    <button class="btn btn-red" *ngIf="job.status == 'Cancelled'" disabled>Offer {{job.status}}</button>
                                                </td> 

                                                <td class="vertical_align_center" *ngIf="job.status == 'Pending' || job.status == 'Accepted'">
                                                    <a data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img src="assets/img/three_dots.svg"></a>
                                                    <div class="dropdown-menu" >
                                                        <a class="dropdown-item"   *ngIf="job.status == 'Pending'" [routerLink]="['/tutor/offerDetails/'+job.id]">View offer</a>
                                                        <a class="dropdown-item"   *ngIf="job.status == 'Accepted'" [routerLink]="['/jobDetail/job/'+job.job_slug]">View Job Detail</a>
                                                        <a class="dropdown-item"   *ngIf="job.status == 'Pending'" (click)="acceptOffer(job)">Accept</a>
                                                        <a class="dropdown-item"  *ngIf="job.status == 'Pending'" aria-disabled="true" (click)="rejectOffer(job)">Reject</a>
                                                        <a class="dropdown-item"   aria-disabled="true" [routerLink]="['/tutor/message-board']" [queryParams]="{'job_id': job.job_id}">Message</a>
                                                        <a class="dropdown-item"  *ngIf="job.status == 'Accepted'" aria-disabled="true" (click)="terminateOffer(job)">Terminate Offer</a>
                                                      </div>
                                                </td>

                                            </tr>

                                        </ng-container>
                                     
                                            <tr *ngIf="jobsErr == 1">
                                                <div class="no_jobs">No New Offer</div> 
                                            </tr>
                      

                                            

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div id="tab-4" class="tab-content" [ngClass]="{'current' : currentTab == 'NewInvite'}">
                                <div class="manage_table">
                                    <table class="table">
                                        <tbody>
                                            <ng-container *ngIf="jobsList.length > 0; ">
                                            <tr *ngFor="let job of jobsList">
                                                <td>
                                                    <span>Job Title</span>
                                                    <!-- <a [routerLink]="['/searchJob/job-details/'+job.job_slug]">{{job.job_title}}</a> -->
                                                    <a [routerLink]="['/jobDetail/job/'+job.job_slug]" *ngIf="job.job_title.length>18" data-toggle="tooltip" data-placement="top" [title]="job.job_title">{{job.job_title|slice:0:15}}...</a>
                                                    <a [routerLink]="['/jobDetail/job/'+job.job_slug]" *ngIf="job.job_title.length <= 18" data-toggle="tooltip" data-placement="top" [title]="job.job_title">{{job.job_title}}</a>
                                                    <!-- <div class="student_name"><img src="../../../assets/img/student.svg"> Miller</div> -->
                                                </td>
                                                <td>
                                                    <span>Student Name</span>
                                                    <strong>{{job.first_name}} {{job.last_name}}</strong>
                                                </td>
                                                <td>
                                                    <span>Original Price</span>
                                                    <strong>{{job.offer_price}} {{job.price_type}}</strong>
                                                </td>
                                                <!-- <td>
                                                    <span>Accepted Price</span>
                                                    <strong>$100/hrs</strong>
                                                </td> -->
                                                <td>
                                                    <span>Job Type</span>
                                                    <strong *ngIf="job.job_type">{{job.job_type == 'instant-tutoring' ? 'On-Demand' : job.job_type}}</strong>
                                                </td>
                                                <td>
                                                    <span>Invited On</span>
                                                    <strong>{{job.invited_on}}</strong>
                                                </td>

                                                <td class="vertical_align_center">
                                                    <button *ngIf="job.status == 'Applied'" class="btn btn-orange invitaion" disabled>Invitation Recieved <img src="assets/img/booking.svg"></button>
                                                </td>

                                                <!-- <td class="vertical_align_center">
                                                    <a href="#"><img src="assets/img/three_dots.svg"></a>
                                                </td> -->

                                            </tr>

                                            
                                        </ng-container>
                                       
                                            <tr *ngIf="jobsErr == 1">
                                                <div class="no_jobs">No New Invite</div> 
                                            </tr>
                                
                                            

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div id="tab-5" class="tab-content" [ngClass]="{'current' : currentTab == 'Closed'}">
                                <div class="manage_table">
                                    <table class="table">
                                        <tbody>
                                            <ng-container *ngIf="jobsList.length > 0;">
                                            <tr *ngFor="let job of jobsList">
                                                <td>
                                                    <span>Job Title</span>
                                                    <!-- <a [routerLink]="['/searchJob/job-details/'+job.job_slug]">{{job.job_title}}</a> -->
                                                    <a [routerLink]="['/jobDetail/job/'+job.job_slug]" *ngIf="job.job_title.length>18" data-toggle="tooltip" data-placement="top" [title]="job.job_title">{{job.job_title|slice:0:15}}...</a>
                                                    <a [routerLink]="['/jobDetail/job/'+job.job_slug]" *ngIf="job.job_title.length <= 18" data-toggle="tooltip" data-placement="top" [title]="job.job_title">{{job.job_title}}</a>
                                                    <!-- <div class="student_name"><img src="../../../assets/img/student.svg"> Miller</div> -->
                                                </td>

                                                <td>
                                                    <span>Student Name</span>
                                                    <strong>{{job.first_name|| ''}} {{job.last_name|| ''}}</strong>
                                                </td>
                                                <td>
                                                    <span>Accepted Price</span>
                                                    <strong>{{job.accepted_price}} {{job.price_type}}</strong>
                                                </td>
                                                <td>
                                                    <span>Job Type</span>
                                                    <strong>{{job.job_type == 'instant-tutoring' ? 'On-Demand' : job.job_type}}</strong>
                                                </td>
                                                <!-- <td>
                                                    <span>Scheduled</span>
                                                    <strong>{{job.applied_on}}</strong>
                                                </td> -->

                                                <td class="vertical_align_center">
                                                    <button *ngIf="job.status == 'Applied'" class="btn btn-orange" disabled>Application Recieved </button>
                                                    <button *ngIf="job.status == 'Terminated'" class="btn btn-red" disabled>Application Terminated </button>
                                                    <button class="btn btn-warning" disabled *ngIf="job.status=='Refunded'">Dispute resolved</button>
                                                </td>

                                                <!-- <td class="vertical_align_center">
                                                    <a href="#"><img src="assets/img/three_dots.svg"></a>
                                                </td> -->

                                            </tr>

                                        </ng-container>
                            
                                            <tr *ngIf="jobsErr == 1">
                                                <div class="no_jobs">No Closed Jobs</div> 
                                            </tr>
                            

                                            

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div id="tab-6" class="tab-content" [ngClass]="{'current' : currentTab == 'All'}">
                                <div class="manage_table">
                                    <table class="table">
                                        <tbody>
                                            <ng-container *ngIf="jobsList.length > 0;">
                                            <tr *ngFor="let job of jobsList">
                                                <td>
                                                    <span>Job Title</span>
                                                    <a [routerLink]="['/jobDetail/job/'+job.job_slug]" *ngIf="job.job_title.length>18" data-toggle="tooltip" data-placement="top" [title]="job.job_title">{{job.job_title|slice:0:15}}...</a>
                                                    <a [routerLink]="['/jobDetail/job/'+job.job_slug]" *ngIf="job.job_title.length <= 18" data-toggle="tooltip" data-placement="top" [title]="job.job_title">{{job.job_title}}</a>
                                                    <!-- <div class="student_name"><img src="assets/img/student.svg"> {{job.student_name}}</div> -->
                                                </td>
                                                <td>
                                                    <span>Student Name</span>
                                                    <strong>{{job.student_name}}</strong>
                                                </td>
                                                <td>
                                                    <span>Original Price</span>
                                                    <strong>{{job.job_price}} {{job.price_type}}</strong>
                                                </td>
                                                <td>
                                                    <span>Accepted Price</span>
                                                    <strong *ngIf="job.price">{{job.price}} {{job.price_type}}</strong>
                                                </td>

                                                 <td>
                                                        <span>Job Type</span>
                                                        <strong *ngIf="job.job_type">{{job.job_type == 'instant-tutoring' ? 'On-Demand' : job.job_type}}</strong>
                                                </td>
                                                <td>
                                                    <span>Scheduled</span>
                                                    <strong>{{job.date}}</strong>
                                                </td>

                                                <td class="vertical_align_center">
                                                    <button *ngIf="job.type =='Application' " class="btn btn-orange" disabled>Application {{job.status}} <img src="assets/img/booking.svg"></button>
                                                    <button class="btn btn-orange" *ngIf="job.type=='Offer' && job.status == 'Pending'" disabled>Offer {{job.status}}</button>
                                                    <button class="btn btn-red" *ngIf="job.type=='Offer' && job.status == 'Decline'" disabled>Offer {{job.status}}</button>
                                                    <button class="btn btn-success" *ngIf="job.type=='Offer' && job.status == 'Accepted'" disabled>Upcoming</button>
                                                    <button *ngIf="job.type=='Invite' && job.status == 'Applied'" class="btn btn-orange" disabled>Invitation Sent <img src="assets/img/booking.svg"></button>
                                                    <button class="btn btn-success" *ngIf="job.type=='Job' && job.status == 'Completed'" disabled>Completed <img src="assets/img/success.svg"></button>
                                                </td>

                                                <td class="vertical_align_center" *ngIf="job.type=='Offer' && job.status == 'Applied'">
                                                    <a data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img src="assets/img/three_dots.svg"></a>
                                                    <div class="dropdown-menu" >
                                                        <a class="dropdown-item"   (click)="acceptOffer(job)">Accept</a>
                                                        <a class="dropdown-item"  aria-disabled="true" (click)="rejectOffer(job)">Reject</a>
                                                      </div>
                                                </td>
                                                <td class="vertical_align_center" *ngIf="job.type=='Offer' && job.status == 'Pending'">
                                                    <a data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img src="assets/img/three_dots.svg"></a>
                                                    <div class="dropdown-menu" >
                                                        <a class="dropdown-item"   [routerLink]="['/tutor/offerDetails/'+job.id]">View offer</a>
                                                        <a class="dropdown-item"   (click)="acceptOffer(job)">Accept</a>
                                                        <a class="dropdown-item"  aria-disabled="true" (click)="rejectOffer(job)">Reject</a>
                                                      </div>
                                                </td>
                                            </tr>

                                        </ng-container>
                                      
                                            <tr *ngIf="jobsErr == 1">
                                                <div class="no_jobs">No Available Jobs</div> 
                                            </tr>
                                 

                                        

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div id="tab-7" class="tab-content" [ngClass]="{'current' : currentTab == 'Upcoming'}">
                                <div class="manage_table">
                                    <table class="table">
                                        <tbody>
                                            <ng-container *ngIf="jobsList.length > 0">
                                            <tr *ngFor="let job of jobsList" >
                                                <td>
                                                    <span>Job Title</span>
                                                    <a [routerLink]="['/tutor/offerDetails/'+job.offer_id]">{{job.job_title}}</a>
                                                    <div  *ngIf="job.showBtn">
                                                        <span class="text-danger mt-2" *ngIf="timer.length > 0 && job.session_status == 'pending'">{{timer}}</span>
                                                    <button class="btn btn-red startBtn" *ngIf=" job.session_status == 'started'" [disabled]="job.session_status == 'pending'" (click)="startSession(job.id)">Start Session <img src="../../../assets/img/Polygon2.svg"></button>
                                                    <button class="btn btn-primary startBtn" *ngIf="job.session_status == 'completed' " (click)="markSessionCompleted(job)">Mark as complete </button>
                                                    </div>
                                                    <!-- <div class="student_name"><img src="assets/img/student.svg">{{job.first_name}} {{job.last_name}}</div> -->
                                                </td>
                                                <td>
                                                    <span>Student Name</span>
                                                    <strong>{{job.first_name}} {{job.last_name}}</strong>
                                                </td>
                                                <td>
                                                    <span>Original Price</span>
                                                    <strong>${{job.price}} {{job.price_type}}</strong>
                                                </td>
                                                <td>
                                                    <span>Accepted Price</span>
                                                    <strong *ngIf="job.accepted_price">{{job.accepted_price}} {{job.price_type}}</strong>
                                                </td>
                                                <td>
                                                    <span>Schedule Date</span>
                                                    <strong>{{job.schedule_date|| ''}}</strong>
                                                </td>
                                                

                                                <!-- <td class="vertical_align_center" *ngIf="job.showBtn">
                                                   
                                                    <button class="btn btn-red" *ngIf="job.session_status == 'pending' || job.session_status == 'started'" [disabled]="job.session_status == 'pending'">Start Session <img src="../../../assets/img/Polygon2.svg"></button>
                                                    <button class="btn btn-primary" *ngIf="job.session_status == 'completed' " (click)="markSessionCompleted(job)">Mark as complete </button>

                                                </td> -->

                                                <!-- <td class="vertical_align_center">
                                                    <a [href]=""><img src="assets/img/three_dots.svg"></a>
                                                </td> -->
                                                <td class="vertical_align_center" *ngIf="job.session_early">
                                                    <a data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img src="assets/img/three_dots.svg"></a>
                                                    <div class="dropdown-menu">
                                                        <!-- <a class="dropdown-item" href="javascript:void(0)" [swal]="RevokeAppliedJob">Revoke Applied Job</a> -->
                                                        <!-- <a class="dropdown-item" *ngIf="(job.status=='Applied' && job.receive_offer)" (click)="withdrawOffer(job)">Withdraw Applied Job</a> -->
                                                        <a class="dropdown-item"  (click)="earlySessionModal(job)"  >Start Session Early</a>
                                                    </div>
                                                </td>
                                            </tr>
                                          </ng-container>
                                          
                                            <tr *ngIf="jobsErr == 1">
                                                <div class="no_jobs">No Available Jobs</div> 
                                            </tr>
                                    

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div id="tab-8" class="tab-content" [ngClass]="{'current' : currentTab == 'Completed'}">
                                <div class="manage_table">
                                    <table class="table">
                                        <tbody>
                                            <ng-container *ngIf="jobsList.length > 0">
                                            <tr *ngFor="let job of jobsList" >
                                                <td>
                                                    <span>Job Title</span>
                                                    <!-- <a [routerLink]="['/tutor/offerDetails/'+job.job_slug]">{{job.job_title}}</a> -->
                                                    <!-- <div class="student_name"><img src="assets/img/student.svg">{{job.first_name}} {{job.last_name}}</div> -->
                                                    <a [routerLink]="['/tutor/offerDetails/'+job.offer_id]">{{job.job_title}}</a>
                                                </td>
                                                <td>
                                                    <span>Student Name</span>
                                                    <strong>{{job.first_name}} {{job.last_name}}</strong>
                                                </td>
                                                <td>
                                                    <span>Accepted Price</span>
                                                    <strong>{{job.accepted_price}} {{job.price_type}}</strong>
                                                </td>
                                                <!-- <td>
                                                    <span>Offer Price</span>
                                                    <strong *ngIf="job.offer_price">{{job.offer_price}} {{job.price_type}}</strong>
                                                </td> -->
                                                <td>
                                                    <span>Scheduled Date</span>
                                                    <strong>{{job.schedule_date|| ''}}</strong>
                                                </td>
                                                <td>
                                                    <span>Claim After</span>
                                                    <strong>{{job.claim_date|| ''}}</strong>
                                                </td>
    
                                                <td class="vertical_align_center">
                                                    <button class="btn btn-red" disabled *ngIf="job.status=='Missed'">Missed</button>
                                                    <button class="btn btn-success"  *ngIf="job.status=='Completed' && !job.payment_claim && !job.disburse_status && job.can_claim" (click)="claimPayment(job.id)">Claim Payment</button>
                                                    <button class="btn btn-orange"  *ngIf="job.status=='Completed' && job.payment_claim && !job.disburse_status && job.can_claim" disabled> Requested</button>
                                                    <button class="btn btn-primary"  *ngIf="job.status=='Completed' && (job.payment_claim || !job.payment_claim) && job.disburse_status " disabled> Received</button>
                                                    <button class="btn btn-red" disabled *ngIf="job.status=='Completed' && (job.payment_claim || !job.payment_claim) && !job.can_claim  && !job.disburse_status">Claim Payment</button>
                                                    <button class="btn btn-orange" disabled *ngIf="job.status=='Cancelled'">Cancelled</button>
                                                    <button class="btn btn-orange" disabled *ngIf="job.status=='Disputed'">Dispute raised</button>
                                                    <button class="btn btn-warning" disabled *ngIf="job.status=='Refunded'">Dispute resolved</button>
                                                </td>
                                                
                                                <td class="vertical_align_center" *ngIf="(job.status=='Applied' && !job.receive_offer) || job.job_session_review">
                                                    <a data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img src="assets/img/three_dots.svg"></a>
                                                    <div class="dropdown-menu">
                                                        <!-- <a class="dropdown-item" href="javascript:void(0)" [swal]="RevokeAppliedJob">Revoke Applied Job</a> -->
                                                        <a class="dropdown-item" *ngIf="(job.status=='Applied' && job.receive_offer)" (click)="withdrawOffer(job)">Withdraw Applied Job</a>
                                                        <a class="dropdown-item" *ngIf="job.job_session_review" (click)="openRatingModal(job)">View Session Rating</a>
                                                    </div>
                                                </td>
                                               
    
                                            </tr>
                                          </ng-container>
                                       
                                            <tr *ngIf="jobsErr == 1">
                                                <div class="no_jobs">No Available Jobs</div> 
                                            </tr>
                                  
    
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        
                        <nav aria-label="..." *ngIf="lastPage && lastPage > 1">
                            <ul class="pagination">
                                <li class="page-item" [ngClass]="{'disabled' : currentPage == 1}">
                                    <a class="page-link" (click)="loadMore(currentPage-1)" tabindex="-1"><img src="assets/img/left-caret.svg"></a>
                                </li>
                                <li *ngFor="let page of pagesCount;" class="page-item" [ngClass]="{'active': currentPage == page}"><a class="page-link" (click)="loadMore(page)" *ngIf="page == lastPage || page == 1 || (page >= (currentPage - 1) && page <= (currentPage+1))">{{page}}</a><span  *ngIf="(page < currentPage - 1 || page > currentPage+1) && page != lastPage && page != 1">.</span></li>
                                <li class="page-item" [ngClass]="{'disabled' : currentPage == lastPage}">
                                    <a class="page-link" (click)="loadMore(currentPage+1)"><img src="assets/img/right-caret.svg"></a>
                                </li>
                            </ul>
                        </nav>
                    </div>						
                    
                </div>
            </div>
        </div>
    </div>
    <app-short-footer></app-short-footer>
    
</div>
<!-- Modal -->
<div id="rejectOfferModal" class="modal fade" role="dialog" #rejectOfferModal>
    <div class="modal-dialog">
    
    <!-- Modal content-->
    <div class="modal-content">
    <div class="modal-header">
        <h4 class="modal-title">Decline Offer</h4>
      <button type="button" class="close" data-dismiss="modal"><img src="assets/img/close-14.svg"></button>
      
    </div>
    <div class="modal-body">
        <form class="form-group form-show-validation row">
            <div class="col-lg-12 wk_form">
                <label >Job Title <span class="required-label">*</span></label>
                <input type="text" class="form-control" disabled [value]="rejectOfferObj.job_title">
            </div>
            <div class="col-lg-12 wk_form">
                <label >Reason for decline <span class="required-label">*</span></label>
                <textarea type="text" class="form-control"  name="declineReason" [(ngModel)]="declineReason" placeholder="Enter reason for decline" required="" #decline="ngModel"></textarea>
            </div>
            <div *ngIf="declineSubmitted || (decline.touched || decline.dirty)">
                <p *ngIf="decline.value == ''" class="text-danger"> Please enter reason</p>
            </div>
            <div class="col-lg-10">
                <button class="btn btn-warning mr-3" (click)="closeRejectModal()">Cancel</button>
                <button class="btn btn-primary" (click)="rejectOfferSubmit()">Decline</button>
            </div>
        </form>
    </div>
    </div>
    
    </div>
    </div>

    <!-- Modal -->
<div id="acceptOfferModal" class="modal fade" role="dialog" #acceptOfferModal>
    <div class="modal-dialog">
    
    <!-- Modal content-->
    <div class="modal-content">
    <div class="modal-header">
        <h4 class="modal-title">Accept Offer</h4>
      <button type="button" class="close" (click)="closeAcceptModal()"><img src="assets/img/close-14.svg"></button>
      
    </div>
    <div class="modal-body">
        <form class="form-group form-show-validation row">
            <div class="col-lg-12 wk_form">
                <label >Job Title <span class="required-label">*</span></label>
                <input type="text" class="form-control" disabled [value]="acceptOfferObj.job_title">
            </div>
            <div class="col-lg-12 wk_form">
                <label >Message</label>
                <textarea type="text" class="form-control"  name="acceptReason" [(ngModel)]="acceptReason" placeholder="Enter message" required="" #accept="ngModel"></textarea>
            </div>
            <!-- <div *ngIf="acceptSubmitted || accept.touched || accept.dirty">
                <p *ngIf="accept.value == ''" class="text-danger"> Please enter reason</p>
            </div> -->
            <div class="col-lg-12 wk_form">
                <label >Proposed Price <span class="required-label">*</span></label>
                <input type="text" class="form-control" disabled [value]="acceptOfferObj.accepted_price || acceptOfferObj.job_price">  
            </div>
            
           
            <div class="col-lg-10">
                <button class="btn btn-warning mr-3" (click)="closeAcceptModal()">Cancel</button>
                <button class="btn btn-primary" (click)="acceptOfferSubmit()">Accept</button>
            </div>
        </form>
    </div>
    </div>
    
    </div>
    </div>

      <!-- Modal -->
<div id="terminateOfferModal" class="modal fade" role="dialog" #terminateOfferModal>
    <div class="modal-dialog">
    
    <!-- Modal content-->
    <div class="modal-content">
    <div class="modal-header">
        <h4 class="modal-title">Terminate Offer</h4>
      <button type="button" class="close" (click)="closeAcceptModal()"><img src="assets/img/close-14.svg"></button>
      
    </div>
    <div class="modal-body">
        <form class="form-group form-show-validation row">
            <div class="col-lg-12 wk_form">
                <label >Job Title <span class="required-label">*</span></label>
                <input type="text" class="form-control" disabled [value]="terminateOfferObj.job_title">
            </div>
            <div class="col-lg-12 wk_form">
                <label >Message <span class="required-label">*</span></label>
                <textarea type="text" class="form-control"  name="terminateReason" [(ngModel)]="terminateReason" placeholder="Enter message" required="" #terminateMsg="ngModel"></textarea>
            </div>
            <div *ngIf="terminateSubmitted && ( terminateMsg.touched || terminateMsg.dirty)">
                <p *ngIf="terminateMsg.value == ''" class="text-danger"> Message is required</p>
            </div>
            <!-- <div class="col-lg-12 wk_form">
                <label >Proposed Price <span class="required-label">*</span></label>
                <input type="text" class="form-control" disabled [value]="acceptOfferObj.accepted_price || acceptOfferObj.job_price">  
            </div> -->
            
           
            <div class="col-lg-10">
                <button class="btn btn-warning mr-3" (click)="closeTerminateModal()">Cancel</button>
                <button class="btn btn-primary" (click)="terminateOfferSubmit()">Terminate</button>
            </div>
        </form>
    </div>
    </div>
    
    </div>
    </div>

    <!-- Modal -->
<div id="CancelAppliedJobModal" class="modal fade" role="dialog" #CancelAppliedJobModal>
    <div class="modal-dialog">
    
    <!-- Modal content-->
    <div class="modal-content">
    <div class="modal-header">
        <h4 class="modal-title">Withdraw Applied Job</h4>
      <button type="button" class="close" data-dismiss="modal"><img src="assets/img/close-14.svg"></button>
      
    </div>
    <div class="modal-body">
        <form class="form-group form-show-validation row">
            <div class="col-lg-12 wk_form">
                <label >Job Title <span class="required-label">*</span></label>
                <input type="text" class="form-control" disabled [value]="withdrawObj.job_title">
            </div>
            <div class="col-lg-12 wk_form">
                <label >Message <span class="required-label">*</span></label>
                <textarea type="text" class="form-control"  name="revokeReason" [(ngModel)]="revokeReason" placeholder="Enter message" required="" #revokedReason="ngModel"></textarea>
            </div>
            <div *ngIf="revokeSubmitted || (revokedReason.touched || revokedReason.dirty)">
                <p *ngIf="revokedReason.value == ''" class="text-danger"> Message is required</p>
            </div>
            <div class="col-lg-10">
                <button class="btn btn-warning mr-3" (click)="closeRevokeModal()">Cancel</button>
                <button class="btn btn-primary" (click)="withdrawOfferSubmit()">Withdraw</button>
            </div>
        </form>
    </div>
    </div>
    
    </div>
    </div>

    <div id="view_applicants" class="modal fade view_applicants" role="dialog" #view_applicants>
        <div class="modal-dialog modal-lg">
    
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">{{applicant?.job?.job_title}}</h4>
                    <button type="button" class="close" data-dismiss="modal"><img src="assets/img/images/close-14.svg"></button>
    
                </div>
                <div class="modal-body">
    
                    <div class=" job_without_login application_recieved " >
    
                        <div class="job_desc_inner">
    
    
                            <div class="send_offer">
                                <div class="row">
    
                                    <div class="col-sm-12 tutor_outer">
                                        <div class="tutorLEFT">
                                            <div class="tutor-image">
                                                <img   [src]="applicant?.user?.image_url ? applicant?.user?.image_url : 'assets/img/avatar_user2.jpg'" #this onError="this.src='assets/img/avatar_user2.jpg'">
                                            </div>
                                            <div class="tutor_rating">
                                                <!-- <ul>
                                                    <li><i class="fas fa-star"></i></li>
                                                    <li><i class="fas fa-star"></i></li>
                                                    <li><i class="fas fa-star"></i></li>
                                                    <li><i class="fal fa-star"></i></li>
                                                    <li><i class="fal fa-star"></i></li>
                                                </ul>
                                                <h6>{{applicant?.user?.avg_rating}} <small>( 5.0 )</small></h6> -->
                                                <app-review-rating-view [reviewsCount]="applicant?.user?.rating_count" [rating]="applicant?.user?.avg_rating" >
                                                </app-review-rating-view>
    
                                            </div>
                                            <!-- <a class="wklink" (click)="navigateProfile('/search/viewTutor/'+ applicant?.user?.profile_slug)" >View Profile</a> -->
                                        </div>
    
                                        <div class="tutor_desc">
                                            <div class="row">
                                                <div class="col-sm-6">
                                                    <strong>Tutor Name </strong>
                                                    <p>{{applicant?.user?.full_name}}</p>
                                                </div>
                                                <div class="col-sm-6">
                                                    <strong>Hourly Rate </strong>
                                                    <p>{{applicant?.user?.hourly_rate}}</p>
                                                </div>
                                                <div class="col-sm-6">
                                                    <strong>Location </strong>
                                                    <p>{{applicant?.user?.location?.country || 'Not Found'}}</p>
                                                </div>
                                                <div class="col-sm-6">
                                                    <strong>Experience level</strong>
                                                    <p>{{applicant?.user?.experince_level}}</p>
                                                </div>
    
                                                <div class="col-sm-6">
                                                    <strong>Application Status</strong>
                                                    <p >{{applicant?.status}}</p>
                                                    <!-- <p class="badge badge-warning" *ngIf="applicant?.status == 'Cancelled'">{{applicant?.status}}</p> -->
                                                </div>
                                                
                                               
    
                                                <div class="col-sm-12">
                                                    <strong>Bio </strong>
                                                    <p>{{applicant?.user?.about_me}}</p>
                                                    
                                                    <!-- <a class="btn btn-primary" [routerLink]="['/search/viewTutor/]">View Profile</a> -->
                                                </div>
                                                
                                            </div>
    
    
                                            
    
                                            <!--div class="row">
                                                <div class="col-sm-6">
                                                    <strong>Application Status</strong>
                                                    <p class="badge badge-success" *ngIf="applicant?.status == 'Applied'">{{applicant?.status}}</p>
                                                    <p class="badge badge-warning" *ngIf="applicant?.status == 'Cancelled'">{{applicant?.status}}</p>
                                                </div>
                                            </div-->
    
                                   
                                            
    
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="job_button_right wh_job_button_right">
    
                            <!--div class="price_pro">
                                <img src="assets/img/gift.svg"> <strong>Applied price
                                    <span>{{applicant.offer_price}}</span>
                                </strong>
                            </div--> 
                            <div class="job_time_date">
                                <div class="row">
                                    <div class="col-sm-6">
                                        <strong>Applied price</strong>
                                        <p>{{applicant?.offer_price}}</p>
                                    </div>
                                    <!-- <div class="col-sm-6" *ngIf="applicant.job.proposed_start_time">
                                         <strong>Job Schedule </strong>
                                        <p *ngIf="applicant.job.job_type_data != 'recurring'">{{applicant.job.schedule_date}}</p>
                                        <p *ngIf="applicant.job.job_type_data == 'recurring'">{{applicant.job.job_recurring?.recurring_job_date || applicant.job.schedule_date}} {{applicant.job.job_recurring?.time}}</p>
                                        
                                    </div> -->
                                    <div class="col-sm-6">
                                        <strong>Proposed Start Date</strong>
                                        <p>{{applicant?.job?.proposed_start_time}}</p>
                                    </div>
                                    <div class="col-sm-6">
                                        <strong>Job Type</strong>
                                        <p>{{applicant?.job?.job_type_data == 'instant-tutoring' ? 'On-Demand' : applicant?.job?.job_type}}</p>
                                    </div>
                                    <div class="col-sm-6">
                                        <strong>Applied On </strong>
                                        <p>{{applicant?.applied_on}}</p>
                                    </div>
                                    <div class="col-sm-6 attach">
                                        <strong>Attachment :</strong>
                                        <div class="certification">
                                            <div class="cerfication_img">
                                                <div *ngIf="applicant?.attachment" class="ceft_img" (click)="downloadAttachment({name:applicant?.image_title, id: applicant?.id, type: applicant?.file_type},'application-received-attachments')">
                                                    <span>
                                                        <img *ngIf="applicant?.file_type == 'image/jpeg' && applicant?.attachment && applicant?.attachment.length > 0" src="assets/img/ico-jpg.svg">
                                                        <img *ngIf="applicant?.file_type == 'image/png' && applicant?.attachment && applicant?.attachment.length > 0" src="assets/img/ico-png.svg">
                                                        <img *ngIf="applicant?.file_type == 'application/pdf' && applicant?.attachment && applicant?.attachment.length > 0" src="assets/img/ico-pdf.svg">
                                                        <img *ngIf="applicant?.file_type == 'application/msword' && applicant?.attachment && applicant?.attachment.length > 0" src="assets/img/msword.jpeg">
                                                        <img *ngIf="applicant?.file_type == 'application/vnd.openxmlformats-officedocument.wordprocessingml.document' && applicant?.attachment && applicant?.attachment.length > 0" src="assets/img/ico-doc.png" alt="docx">
                                                        <img *ngIf="applicant?.file_type == 'application/vnd.ms-excel' && applicant?.attachment && applicant?.attachment.length > 0" alt="excel" src="assets/img/ico-excel.png">
                                                        <img *ngIf="applicant?.file_type == 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' && applicant?.attachment && applicant?.attachment.length > 0" src="assets/img/ico-spreadsheet.png" alt="xls">
                                                        <!--img *ngIf="applicant.attachment || applicant.attachment.length > 0" class="download_icon"  src="assets/img/download_blue.svg"-->
                                                    </span>
                                                    <div class="download_btns">
                                                         <button type="button" style="color: rgb(204, 204, 204);" (click)="downloadAttachment({name:applicant?.image_title, id: applicant?.id, type: applicant?.file_type},'application-received-attachments')"><i class="fas fa-cloud-download-alt"></i></button>
                                                        <div *ngIf="applicant?.attachment && applicant?.attachment.length > 0" class="document_name">{{applicant?.attachment}}</div>
                                                    </div>
                                                </div>
    
                                            </div>
                                            <p *ngIf="!applicant?.attachment || applicant?.attachment.length == 0" style="text-decoration: none;">No Attachments</p>
                                        </div>
                                    </div>
                                    <div class="col-sm-12">
                                        <strong>Message </strong>
                                        <p>{{applicant?.message}}</p>
                                        <a class="btn btn-primary replyLink" (click)="navigate('/tutor/message-board')" >Reply</a>
                                    </div>
                                   
                                </div>
    
    
                            </div>
                        </div>
                    </div>
    
                </div>
            </div>
    
        </div>
    </div>

    <div id="reviewAndratingModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div  class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Review and Rating</h4>
                    <button type="button" class="close" data-dismiss="modal" (click)="closeRatingModal()"><img src="assets/img/images/close-14.svg"></button>
                </div>
                <div class="modal-body">
                    <form  class="form-group form-show-validation row">
                        <div class="col-lg-12 ">
                            <label> Job Title </label>
                            <input type="text" class="form-control" name="job_title" [(ngModel)]="ratingForm.job_title" disabled>
                        </div>
                        <div class="col-lg-12 ">
                            <label> Schedule Date </label>
                            <input type="text" class="form-control" name="schedule_date" [(ngModel)]="ratingForm.schedule_date" disabled>
                        </div>
                        <div class="col-lg-12 ">
                            <label> Student Name </label>
                            <input type="text" class="form-control" name="student_name" [(ngModel)]="ratingForm.student_name" disabled>
                        </div>
                    <div class="col-lg-12 ">
                        <label> Rating </label>
                        <br>
                        <rating [(ngModel)]="ratingForm.rating"
                                [float]="true" name="rating" [readonly]="true" [max]="5">
                        </rating>
                    </div>
                    <div class="col-lg-12 ">
                        <label> Review </label>
                        <textarea placeholder="Enter Review" disabled [(ngModel)]="ratingForm.review" class="form-control" name="review" rows="3"></textarea>
                    </div>
                    <!-- <div class="col-lg-12 text-center">
                        <button class="btn btn-orange" (click)="submitReviewRating()">
                            Submit
                        </button>
                    </div> -->
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div id="earlySession" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div  class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Start Session Early</h4>
                    <button type="button" class="close" data-dismiss="modal" ><img src="assets/img/images/close-14.svg"></button>
                </div>
                <div class="modal-body">
                    <div class="col-lg-12 ">
                    <p><strong>Session Name: </strong> {{earlySessionObj?.job_title}}</p>
                    <p><strong>Student Name: </strong> {{earlySessionObj?.first_name}} {{earlySessionObj?.last_name}}</p>
                    <p><strong>Schedule Date: </strong> {{earlySessionObj?.schedule_date}}</p>
                   <!-- <p> Are you sure you want to start the session early?</p> -->
                   <!-- <p *ngIf="earlySessionObj?.schedule_date">{{earlySessionObj.schedule_date}}</p> -->
                   </div>
                   <div class="col-lg-12 ">
                    <label><strong> Message </strong></label>
                    <textarea placeholder="Enter Message" #reason class="form-control" name="review" rows="3"></textarea>
                </div>
                    <div class="col-lg-12 text-center">
                        <button class="btn btn-orange mr-3" data-dismiss="modal">Cancel</button>
                        <button class="btn btn-primary" (click)="earlyStartRequest(reason.value)">Send Request</button>

                    </div>
                </div>
            </div>
        </div>
    </div>